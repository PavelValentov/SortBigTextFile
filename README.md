# SortBigTextFile
Generate a huge text file of the kind "Number. String". And sort this one.

Developed in Embarcadero RAD Studio 10.3.

    Git clone https://github.com/PavelValentov/SortBigTextFile.git
    
    cd ./SortBigTextFile/ 
    
    Open RAD Studio 10.3
    
    Open "ProjectGroup.groupproj" file 

### Генератор огромного текстового файла

Утилита располагается в каталоге **./Generator/**

##### Работа с приложением

После запуска в форме приложения указываем

    * Максимальный размер генерируемого файла в MB
    * Фразу, из слов которой будет формироваться словарь файла

Чтобы сформировать текстовый файл, нажимаем кнопку "Generate a new text file"

В результате работы утилиты получится файл **./database.txt**

##### Архетектура решения утилиты:
 
Основная работа производится в отельном потоке **TGenerator**.

```text
После нажатия на кнопку "Generate" создается поток и запускается, блокируются контролы на форме.
При нажатии на кнопку "Stop" или при закрытии формы, поток останавливается и уничтожается.

В теле потока *TGenerator.Execute*:
* Производится разбор введенной в форме фразы на слова *DispatchPhrase()*
* Слов должно быть не меньше двух, для формирования из них различных фраз
* Формирутся словарь фраз для наполнения результирующего текстового файла *AddPhrase()*.
  Метод вызывает рекурсивно сам себя для формирования всех возможных вариантов фраз.
* Создается файловый поток *LStringStream* для записи в текстовый файл полученных фраз
* Формируются фразы вида "Число. Строка" и записываются в буфер *LPhrases: TStringList;*.
  Размер буфера = BUFFER_STRINGS_COUNT строк.
* Пока не достигнут лимит размера файла, буфер пишется в поток, и в цикле наполняется снова.
* Кажая строка содержит случайное число типа UInt64
  и случайную строку из ранее сформированного словаря фраз.     
```
После завершения работы генератора, поток уничтожается, контролы на форме разблокируются.

##

### Сортировщик огромного текстового файла

Утилита располагается в каталоге **./Sorter/**

##### Работа с приложением

После запуска в форме приложения доступна одна кнопка "Sort file"

Если существует файл файл **./database.txt**,
то сортировщик создаст файл файл **./destdb.txt**.

Строки в полученном файле будут отсортированы по критерию: сначала сравнивается часть​ String​, если она совпадает, тогда​ Number.

##### Архетектура решения утилиты:
 
Основная работа производится в отельном потоке **TGenerator**.

```text
```

##### Архетектура решения библиотек сортировки:

```text
```
